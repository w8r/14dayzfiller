(function e(t,r,n){function s(o,i){if(!r[o]){if(!t[o]){var l=typeof require=="function"&&require;if(!i&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return s(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<n.length;o++)s(n[o]);return s})({1:[function(e,t,r){"use strict";var n=e("reqwest");var s=document.querySelector("#employeeForm input[name='medewerker']");if(!s){alert("Go to the timesheet page so the script could get your details");return}var a=s.value,o=document.createElement("div"),i=new Date(Date.now()),l=[i.getFullYear(),i.getMonth()<9?"0"+i.getMonth():i.getMonth()+1,i.getDate()<10?"0"+i.getDate():i.getDate()].join("-");o.setAttribute("style","position: fixed; top: 50px; left: 50%; margin-left: -250px;"+"background: #fff; padding: 30px; color: #333;"+"width: 500px; min-height: 200px; display: block; "+"box-shadow: 0 0 20px rgba(0,0,0,0.8); border-radius: 4px;");o.innerHTML="<h2>"+document.querySelector(".teamNameLogInOutBox .loginfo .name").innerHTML+"("+s.value+")</h2>"+'<form id="hack-form" style="margin-top: 20px;"><table>'+'<tr><td><label for="hack-start">Start date</label></td><td>'+'<input id="hack-start" name="dateStart" type="date" value="'+l+'"></td>'+'<td><label for="hack-end">End date</label></td>'+'<td><input id="hack-end" name="dateEnd" type="date" value="'+l+'"></td></tr>'+'<tr><td><label for="hack-hours">Hours per day</label></td>'+'<td><input id="hack-hours" name="hours" type="text" value="8"></td>'+'<td><label for="hack-proj">Project</label></td>'+'<td id="hack-proj-select-placeholder"></td></tr>'+'<tr><td></td><td></td><td><label for="hack-cat">Category</label></td>'+'<td id="hack-cat-select-placeholder"></td></tr>'+'<tr><td colspan="4" align="center">'+'<input type="submit" value="Go" style="font-size: 2em;"></td></tr>'+'<tr><td colspan="4" align="center">'+'<div class="progress" style="font-size: 3em; font-weight: bold; '+'text-align: center"></div></td></tr></table></form>';(function(e,t){var r=document.querySelector(".tsRegelTr .projectenTitel[name^=projectId]");r=r.cloneNode(true);r.setAttribute("name","projectId");e.appendChild(r);r.removeChild(r.querySelector("option"));r=document.querySelector(".tsRegelTr .projectenTitel[name^=categorieId]");r=r.cloneNode(true);r.setAttribute("name","catId");t.appendChild(r);r.value=499117;r.selectedIndex=17})(o.querySelector("#hack-proj-select-placeholder"),o.querySelector("#hack-cat-select-placeholder"));function u(e){e=e.split("-").map(function(e,t){return t===1?parseInt(e)-1:parseInt(e)});return new Date(e[0],e[1],e[2])}var c=o.querySelector("#hack-form");c.addEventListener("submit",function(e){e.preventDefault();var t=[],r=[],s=o.querySelector(".progress"),i=u(this["dateStart"].value),l=u(this["dateEnd"].value),c=this["hours"].value,p=this["projectId"].value,d=this["catId"].value,f=(l.getTime()-i.getTime())/(1e3*60*60*24),h=new Date(i.getTime()),m=document.getElementById("employeeForm").getAttribute("action"),g=0;if(f<=0){alert("Check the dates");return}for(var y=0;y<f;y++){h.setDate(i.getDate()+y);var w=h.getDay();if(h.getDay()%6===0){continue}t.push({ajax:"insertRegel",medewerker:a,datumDag:h.getDate(),datumMaand:h.getMonth()+1,datumJaar:h.getFullYear(),projectId:p,categorieId:d,omschrijving:"Update",uren:c})}g=t.length;function b(){s.innerHTML=t.length>0?(g-t.length)/g*100+"%":"100%";var e=t.pop();if(!e)return;n({url:m,data:e,method:"POST",complete:function(e){console.log(e);b()}})}b()});document.body.appendChild(o)},{reqwest:2}],2:[function(require,module,exports){!function(e,t,r){if(typeof module!="undefined"&&module.exports)module.exports=r();else if(typeof define=="function"&&define.amd)define(r);else t[e]=r()}("reqwest",this,function(){var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e["crossOrigin"]===true){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t){return t}else if(win[xDomainRequest]){return new XDomainRequest}else{throw new Error("Browser does not support cross-origin requests")}}else if(win[xmlHttpRequest]){return new XMLHttpRequest}else{return new ActiveXObject("Microsoft.XMLHTTP")}},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);t=t&&t[1]||window.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){if(e._aborted)return r(e.request);if(e.request&&e.request[readyState]==4){e.request.onreadystatechange=noop;if(succeed(e))t(e.request);else r(e.request)}}}function setHeaders(e,t){var r=t["headers"]||{},n;r["Accept"]=r["Accept"]||defaultHeaders["accept"][t["type"]]||defaultHeaders["accept"]["*"];var s=typeof FormData==="function"&&t["data"]instanceof FormData;if(!t["crossOrigin"]&&!r[requestedWith])r[requestedWith]=defaultHeaders["requestedWith"];if(!r[contentType]&&!s)r[contentType]=t["contentType"]||defaultHeaders["contentType"];for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){if(typeof t["withCredentials"]!=="undefined"&&typeof e.withCredentials!=="undefined"){e.withCredentials=!!t["withCredentials"]}}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var s=uniqid++,a=e["jsonpCallback"]||"callback",o=e["jsonpCallbackName"]||reqwest.getcallbackPrefix(s),i=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=n.match(i),u=doc.createElement("script"),c=0,p=navigator.userAgent.indexOf("MSIE 10.0")!==-1;if(l){if(l[3]==="?"){n=n.replace(i,"$1="+o)}else{o=l[3]}}else{n=urlappend(n,a+"="+o)}win[o]=generalCallback;u.type="text/javascript";u.src=n;u.async=true;if(typeof u.onreadystatechange!=="undefined"&&!p){u.htmlFor=u.id="_reqwest_"+s}u.onload=u.onreadystatechange=function(){if(u[readyState]&&u[readyState]!=="complete"&&u[readyState]!=="loaded"||c){return false}u.onload=u.onreadystatechange=null;u.onclick&&u.onclick();t(lastValue);lastValue=undefined;head.removeChild(u);c=1};head.appendChild(u);return{abort:function(){u.onload=u.onreadystatechange=null;r({},"Request is aborted: timeout",{});lastValue=undefined;head.removeChild(u);c=1}}}function getRequest(e,t){var r=this.o,n=(r["method"]||"GET").toUpperCase(),s=typeof r==="string"?r:r["url"],a=r["processData"]!==false&&r["data"]&&typeof r["data"]!=="string"?reqwest.toQueryString(r["data"]):r["data"]||null,o,i=false;if((r["type"]=="jsonp"||n=="GET")&&a){s=urlappend(s,a);a=null}if(r["type"]=="jsonp")return handleJsonp(r,e,t,s);o=r.xhr&&r.xhr(r)||xhr(r);o.open(n,s,r["async"]===false?false:true);setHeaders(o,r);setCredentials(o,r);if(win[xDomainRequest]&&o instanceof win[xDomainRequest]){o.onload=e;o.onerror=t;o.onprogress=function(){};i=true}else{o.onreadystatechange=handleReadyState(this,e,t)}r["before"]&&r["before"](o);if(i){setTimeout(function(){o.send(a)},200)}else{o.send(a)}return o}function Reqwest(e,t){this.o=e;this.fn=t;init.apply(this,arguments)}function setType(e){if(e.match("json"))return"json";if(e.match("javascript"))return"js";if(e.match("text"))return"html";if(e.match("xml"))return"xml"}function init(o,fn){this.url=typeof o=="string"?o:o["url"];this.timeout=null;this._fulfilled=false;this._successHandler=function(){};this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=false;this._responseArgs={};var self=this;fn=fn||function(){};if(o["timeout"]){this.timeout=setTimeout(function(){self.abort()},o["timeout"])}if(o["success"]){this._successHandler=function(){o["success"].apply(o,arguments)}}if(o["error"]){this._errorHandlers.push(function(){o["error"].apply(o,arguments)})}if(o["complete"]){this._completeHandlers.push(function(){o["complete"].apply(o,arguments)})}function complete(e){o["timeout"]&&clearTimeout(self.timeout);self.timeout=null;while(self._completeHandlers.length>0){self._completeHandlers.shift()(e)}}function success(resp){var type=o["type"]||resp&&setType(resp.getResponseHeader("Content-Type"));resp=type!=="jsonp"?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r){switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML;break}}self._responseArgs.resp=resp;self._fulfilled=true;fn(resp);self._successHandler(resp);while(self._fulfillmentHandlers.length>0){resp=self._fulfillmentHandlers.shift()(resp)}complete(resp)}function error(e,t,r){e=self.request;self._responseArgs.resp=e;self._responseArgs.msg=t;self._responseArgs.t=r;self._erred=true;while(self._errorHandlers.length>0){self._errorHandlers.shift()(e,t,r)}complete(e)}this.request=getRequest.call(this,success,error)}Reqwest.prototype={abort:function(){this._aborted=true;this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){e=e||function(){};t=t||function(){};if(this._fulfilled){this._responseArgs.resp=e(this._responseArgs.resp)}else if(this._erred){t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._fulfillmentHandlers.push(e);this._errorHandlers.push(t)}return this},always:function(e){if(this._fulfilled||this._erred){e(this._responseArgs.resp)}else{this._completeHandlers.push(e)}return this},fail:function(e){if(this._erred){e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t)}else{this._errorHandlers.push(e)}return this},"catch":function(e){return this.fail(e)}};function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r=e.name,n=e.tagName.toLowerCase(),s=function(e){if(e&&!e["disabled"])t(r,normalize(e["attributes"]["value"]&&e["attributes"]["value"]["specified"]?e["value"]:e["text"]))},a,o,i,l;if(e.disabled||!r)return;switch(n){case"input":if(!/reset|button|image|file/i.test(e.type)){a=/checkbox/i.test(e.type);o=/radio/i.test(e.type);i=e.value;(!(a||o)||e.checked)&&t(r,normalize(a&&i===""?"on":i))}break;case"textarea":t(r,normalize(e.value));break;case"select":if(e.type.toLowerCase()==="select-one"){s(e.selectedIndex>=0?e.options[e.selectedIndex]:null)}else{for(l=0;e.length&&l<e.length;l++){e.options[l].selected&&s(e.options[l])}}break}}function eachFormElement(){var e=this,t,r,n=function(t,r){var n,s,a;for(n=0;n<r.length;n++){a=t[byTag](r[n]);for(s=0;s<a.length;s++)serial(a[s],e)}};for(r=0;r<arguments.length;r++){t=arguments[r];if(/input|select|textarea/i.test(t.tagName))serial(t,e);n(t,["input","select","textarea"])}}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};eachFormElement.apply(function(t,r){if(t in e){e[t]&&!isArray(e[t])&&(e[t]=[e[t]]);e[t].push(r)}else e[t]=r},arguments);return e}reqwest.serializeArray=function(){var e=[];eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments);return e};reqwest.serialize=function(){if(arguments.length===0)return"";var e,t,r=Array.prototype.slice.call(arguments,0);e=r.pop();e&&e.nodeType&&r.push(e)&&(e=null);e&&(e=e.type);if(e=="map")t=serializeHash;else if(e=="array")t=reqwest.serializeArray;else t=serializeQueryString;return t.apply(null,r)};reqwest.toQueryString=function(e,t){var r,n,s=t||false,a=[],o=encodeURIComponent,i=function(e,t){t="function"===typeof t?t():t==null?"":t;a[a.length]=o(e)+"="+o(t)};if(isArray(e)){for(n=0;e&&n<e.length;n++)i(e[n]["name"],e[n]["value"])}else{for(r in e){if(e.hasOwnProperty(r))buildParams(r,e[r],s,i)}}return a.join("&").replace(/%20/g,"+")};function buildParams(e,t,r,n){var s,a,o,i=/\[\]$/;if(isArray(t)){for(a=0;t&&a<t.length;a++){o=t[a];if(r||i.test(e)){n(e,o)}else{buildParams(e+"["+(typeof o==="object"?a:"")+"]",o,r,n)}}}else if(t&&t.toString()==="[object Object]"){for(s in t){buildParams(e+"["+s+"]",t[s],r,n)}}else{n(e,t)}}reqwest.getcallbackPrefix=function(){return callbackPrefix};reqwest.compat=function(e,t){if(e){e["type"]&&(e["method"]=e["type"])&&delete e["type"];e["dataType"]&&(e["type"]=e["dataType"]);e["jsonpCallback"]&&(e["jsonpCallbackName"]=e["jsonpCallback"])&&delete e["jsonpCallback"];e["jsonp"]&&(e["jsonpCallback"]=e["jsonp"])}return new Reqwest(e,t)};reqwest.ajaxSetup=function(e){e=e||{};for(var t in e){globalSetupOptions[t]=e[t]}};return reqwest})},{}]},{},[1]);